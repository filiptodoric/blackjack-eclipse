<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Blackjack</title>
</head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="../blackjack/deck.js"></script>
<script src="../blackjack/game.js"></script>
<script>


	var index = -1;
	var deck = getDeck();

	function deal() {
		index++
		return deck[index];
	}

	function change() {
		var card = deal();
		index++;
		$("#dealer-cards").html(card);
	}

	var player1_hand = new Array();
	player1_hand[0] = deal();
	player1_hand[1] = deal();

	function hit(hand) {
		hand[hand.length] = deal();
		console.dir(player1_hand);
	}

	function calc(hand) {
		var total = 0;
		for (var x = 0; x < hand.length; x++) {
			if (hand[x] == 1) {
				// has an ace
			} else {
				total += hand[x];
			}
		}
		return total;
	}

	function score(hand) {
		var total = 0;
		var soft = 0; // This variable counts the number of aces in the hand.
		var value = 0; // The trump pictures on a card used to be called value.
		for (i = 0; i < hand.length; i++) {
			value = hand[i];
			if (value == 1) {
				soft = soft + 1;
				total = total + 11;
			} else {
				if (value == 11 || value == 12 || value == 13) {
					total = total + 10;
				} else {
					total = total + value;
				}
			}
		}
		while (soft > 0 && total > 21) { // Count the aces as 1 instead
			total = total - 10; // of 11 if the total is over 21
			soft = soft - 1;
		}
		console.log(total);
		return total;
	}

	function dealer() {
		if ((dealer_hand[0] + dealer_hand[1]) < 17) {
			hit(dealer_hand);
		}

	}
</script>
<body>
<h1>Blackjack</h1>
  <div id="dealer">Dealer
  	<h3>Dealer Cards:</h3>
  	<button onclick="hit(player1_hand)">Hit</button>
  	<div id="dealer-cards">
  		
  	</div>
  </div>
  <hr>
    <div id="player1">Dealer
  	<h3>Player 1 Cards:</h3>
  	<button onclick="hit(player1_hand)">Hit</button>
  	<button onclick="score(player1_hand)">Score</button>
  	<div id="player1-cards">
  		
  	</div>
  </div>
</body>
</html>